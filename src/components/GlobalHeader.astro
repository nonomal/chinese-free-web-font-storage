---
import { LanguageSwitcher } from "./Home/LanguageSwitcher";
import { MdiGithub }from './icons/MdiGithub'
--- 

<header
    class="print:hidden sticky z-20 w-full top-0 left-0 flex items-center bg-white/70 gap-2 py-2 backdrop-blur-lg px-12 flex-wrap"
>
    <a href={"/"+Astro.params.lang+"/"}>
        <h1 class="text-black text-2xl">中文网字计划</h1>
    </a>
    <span class="flex-1"></span>
    <nav class="text-sky-700 flex gap-4 md:gap-6 ">
        <a href={"/"+Astro.params.lang+"/cdn"}>免费 CDN</a>
        <a href={"/"+Astro.params.lang+"/online-split"} class="hidden sm:block">在线分包</a>
        <a href={"/"+Astro.params.lang+"/article"}>文章</a>
        <a href={"/"+Astro.params.lang+"/showcase"} class="hidden sm:block">灵感</a>
        <a href={"/"+Astro.params.lang+"/issues"} class="hidden sm:block">反馈</a>
     
        <span>
            <span class="relative overflow-visible more-button">
                <button>更多</button>
                <ul
                    class="w-64 absolute right-0 popover-hidden transition-all bg-gray-50 border border-gray-300 rounded-md"
                >
                    <li class="p-2 hover:bg-gray-100"><a href={"/"+Astro.params.lang+"/analyze"}>字体分析</a></li>
                    <li class="p-2 hover:bg-gray-100">
                        <a href={"/"+Astro.params.lang+"/google"} class="hidden sm:block">Google Fonts</a>
                    </li>
                </ul>
            </span>
        </span>

        <span class='w-px bg-gray-300'></span>
        <!-- Github 相关地址 -->
        <span class="relative overflow-visible more-button">
            <button title="Github">
                <MdiGithub></MdiGithub>
            </button>
            <!-- popover -->
            <ul class="w-64 absolute right-0 popover-hidden transition-all bg-gray-50 border border-gray-300 rounded-md">
                <li class="p-2 hover:bg-gray-100">
                    <a
                        href="https://github.com/KonghaYao/chinese-free-web-font-storage"
                        target="_blank"
                    >
                        <div class="text-sm text-neutral-500">chinese-free-web-font-storage</div>
                        <h3 class="text-xl">🏪中文WebFont收集</h3>
                        <div>
                            <img
                                alt="GitHub Repo stars"
                                loading="lazy"
                                src="https://img.shields.io/github/stars/KonghaYao/chinese-free-web-font-storage?style=flat"
                            />
                        </div>
                    </a>
                </li>
                <li class="p-2 hover:bg-gray-100">
                    <a href="https://github.com/KonghaYao/cn-font-split" target="_blank">
                        <div class="text-sm text-neutral-500">cn-font-split</div>
                        <h3 class="text-xl">📦字体分包插件</h3>
                        <div class="flex gap-2">
                            <img
                                alt="GitHub Repo stars"
                                loading="lazy"
                                src="https://img.shields.io/github/stars/KonghaYao/cn-font-split?style=flat"
                            />
                            <img
                                alt="GitHub Repo stars"
                                loading="lazy"
                                src="https://data.jsdelivr.com/v1/package/npm/cn-font-split/badge?style=rounded"
                            />
                        </div>
                    </a>
                </li>
                <li class="p-2 hover:bg-gray-100">
                    <a href="https://github.com/KonghaYao/font-server" target="_blank">
                        <div class="text-sm text-neutral-500">font-server</div>
                        <h3 class="text-xl">🤖字体管理系统</h3>
                        <div>
                            <img
                                alt="GitHub Repo stars"
                                loading="lazy"
                                src="https://img.shields.io/github/stars/KonghaYao/font-server?style=flat"
                            />
                        </div>
                    </a>
                </li>
            </ul>
        </span>
        <script>
            window.addEventListener('load', () => {
                const items = document.querySelectorAll('.more-button');
                [...items].map((item) => {
                    item.addEventListener('mouseenter', () => {
                        item.children[1]!.classList.remove('popover-hidden');
                    });
                    item.addEventListener('mouseleave', () => {
                        item.children[1]!.classList.add('popover-hidden');
                    });
                });
            });
        </script>
        <LanguageSwitcher client:load location={Astro.url}/>
    </nav>
</header>
